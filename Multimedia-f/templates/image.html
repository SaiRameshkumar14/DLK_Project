{% extends "base.html" %}

{% block title %} Image {% endblock %}

{% block body %}
    <div class="navbar">
        <ul>
            <li><a href="./home">Home</a></li>
            <li><a href="/image" class="active">Image</a></li>
            <li><a href="/video">Video</a></li>
            <li><a href="/webcam">Webcam</a></li>
            <li><a href="/analysis">Analysis</a></li>
        </ul>
    </div>
</head>
<body>
    <div class="container">
        <div class="left-panel">
            <form class="form-signin" method="post" enctype="multipart/form-data" action="/image">
                <img class="mb-4" src="/static/pytorch.png" alt="" width="72">
                <h1 class="h3 mb-3 font-weight-normal">Upload any image or video</h1>
                <input type="file" name="file" class="form-control-file" id="inputfile" onchange="previewImage(event)">
                <br/>
                <button class="btn btn-lg btn-primary btn-block" type="submit">Upload</button>
            </form>
        </div>
            <div class="right-panel" id="displayPanel">
                <div class="placeholder">
                    <div class="image-container">
                        <h2>Preview Image</h2>
                        <img id="image" src="#" alt="Preview Image">
                    </div>
                </div>
            </div>
        <!-- Right display for detected image -->
        <div class="right-panel" id="displayPanel">
            <div class="placeholder">
                <div class="image-container">
                    <h2>Detected Image</h2>
                    <img id="image" src="#" alt="Detected Image">
                </div>
            </div>
        </div>
    </div>

    <script>
        function previewImage(event) {
            var image = document.getElementById('image');
            image.src = URL.createObjectURL(event.target.files[0]);
            image.onload = function() {
                URL.revokeObjectURL(image.src); // Free memory
            }
        }
    </script>

    <script src="//code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
    <script src="//stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>

    <!-- Your JavaScript code to update detected image -->

{% endblock %}

